[gd_scene format=3 uid="uid://bnijdfm8dpeuu"]

[ext_resource type="MeshLibrary" uid="uid://doqsed0qkm4q6" path="res://new_mesh_library.res" id="1_rjuuv"]
[ext_resource type="Script" uid="uid://b5oombtjef0fs" path="res://entities/DoorSliding.gd" id="2_qna4i"]
[ext_resource type="ArrayMesh" uid="uid://cj0h5a3l8ior3" path="res://C1A0_001.res" id="3_qna4i"]
[ext_resource type="Texture2D" uid="uid://bb0e64vof5t2o" path="res://dbg_portal.png" id="4_n0ibb"]
[ext_resource type="Script" uid="uid://psu6r5aime4d" path="res://entities/AreaHurt3D.gd" id="4_qna4i"]
[ext_resource type="Script" uid="uid://dssbc5hbjreg6" path="res://entities/Spawn.gd" id="5_qna4i"]
[ext_resource type="Script" uid="uid://cwfle0lloje08" path="res://entities/LoadLevel.gd" id="6_qna4i"]
[ext_resource type="Script" uid="uid://cddmtyqjy7hcs" path="res://entities/SM64_Tree.gd" id="8_uialn"]
[ext_resource type="Texture2D" uid="uid://dotvhc43bepmm" path="res://shar_coin.png" id="9_bvjvx"]
[ext_resource type="Script" uid="uid://b5u0tffn6ao4" path="res://entities/Shar_Coin.gd" id="10_2ha8l"]

[sub_resource type="BoxShape3D" id="BoxShape3D_gr3wi"]
size = Vector3(0.002, 0.02, 0.02)

[sub_resource type="BoxShape3D" id="BoxShape3D_r26ln"]
size = Vector3(0.004, 0.02, 0.02)

[sub_resource type="BoxShape3D" id="BoxShape3D_ba6ci"]
size = Vector3(2, 2, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_js533"]

[node name="Node3D" type="Node3D" unique_id=1193290923]

[node name="GridMap" type="GridMap" parent="." unique_id=662195545]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -4, 0)
mesh_library = ExtResource("1_rjuuv")
data = {
"cells": PackedInt32Array(65535, 0, 1179649, 65535, 65535, 1179649, 0, 65535, 1179649, 0, 0, 1179649, 0, 1, 1179649, 65535, 1, 1179649, 65534, 65535, 1179649, 65534, 65534, 1179649, 65535, 65534, 1179649, 0, 65534, 1179649, 1, 65534, 1179649, 1, 65535, 1179649, 1, 0, 1179649, 1, 1, 1179649, 1, 2, 1179649, 0, 2, 1179649, 65535, 2, 1179649, 65534, 1, 1179649, 65534, 0, 1179649, 65534, 65533, 1179649, 65535, 65532, 1179649, 0, 65532, 1179649, 1, 65532, 1179649, 1, 65533, 1179649, 2, 65533, 1179649, 2, 65534, 1179649, 2, 65535, 1179649, 3, 65535, 1179649, 3, 0, 1179649, 3, 1, 1179649, 2, 2, 1179649, 1, 3, 1179649, 0, 3, 1179649, 65535, 3, 1179649, 65534, 3, 1179649, 65534, 2, 1179649, 65533, 2, 1179649, 65533, 1, 1179649, 65533, 0, 1179649, 65533, 65535, 1179649, 65532, 65535, 1179649, 65532, 65534, 1179649, 65532, 65533, 1179649, 65533, 65532, 1179649, 65533, 65531, 1179649, 65533, 65530, 1179649, 65534, 65530, 1179649, 65534, 65529, 1179649, 65535, 65529, 1179649, 0, 65529, 1179649, 1, 65529, 1179649, 1, 65530, 1179649, 2, 65530, 1179649, 3, 65530, 1179649, 3, 65531, 1179649, 4, 65531, 1179649, 4, 65532, 1179649, 4, 65533, 1179649, 4, 65534, 1179649, 4, 65535, 1179649, 4, 0, 1179649, 4, 1, 1179649, 4, 2, 1179649, 4, 3, 1179649, 3, 3, 1179649, 3, 4, 1179649, 2, 4, 1179649, 2, 5, 1179649, 1, 5, 1179649, 0, 5, 1179649, 65535, 5, 1179649, 65535, 4, 1179649, 65534, 4, 1179649, 65533, 3, 1179649, 65533, 65533, 1179649, 65533, 65534, 1179649, 65532, 0, 1179649, 65532, 1, 1179649, 65532, 2, 1179649, 65532, 3, 1179649, 65532, 4, 1179649, 65532, 5, 1179649, 65532, 6, 1179649, 65533, 6, 1179649, 65534, 6, 1179649, 65534, 5, 1179649, 65533, 5, 1179649, 65533, 4, 1179649, 0, 4, 1179649, 1, 4, 1179649, 3, 2, 1179649, 2, 1, 1179649, 2, 0, 1179649, 3, 65534, 1179649, 2, 3, 1179649, 65534, 65532, 1179649, 2, 65532, 1179649, 3, 65532, 1179649, 3, 65533, 1179649, 2, 65531, 1179649, 1, 65531, 1179649, 0, 65530, 1179649, 65535, 65530, 1179649, 65534, 65531, 1179649, 65535, 65531, 1179649, 0, 65531, 1179649, 65535, 65533, 1179649, 0, 65533, 1179649, 65535, 6, 1179649, 0, 6, 1179649, 1, 6, 1179649, 2, 6, 1179649, 3, 6, 1179649, 4, 6, 1179649, 4, 5, 1179649, 4, 4, 1179649, 3, 5, 1179649, 4, 65530, 1179649, 4, 65529, 1179649, 3, 65529, 1179649, 65533, 65529, 1179649, 65532, 65529, 1179649, 65532, 65530, 1179649, 65532, 65531, 1179649, 65532, 65532, 1179649, 2, 65529, 1179649, 65540, 6, 458753, 65539, 6, 458753, 65538, 6, 458753, 65537, 6, 458753, 65536, 6, 458753, 131071, 6, 458753, 131070, 6, 458753, 131069, 6, 458753, 131068, 6, 458753, 131068, 5, 720897, 131068, 4, 720897, 131068, 3, 720897, 131068, 2, 720897, 131068, 1, 720897, 131068, 0, 720897, 131068, 65535, 720897, 131068, 65534, 720897, 131068, 65533, 720897, 131068, 65532, 720897, 131068, 65531, 720897, 131068, 65530, 720897, 131068, 65529, 720897, 131069, 65529, 983041, 131070, 65529, 983041, 131071, 65529, 983041, 65536, 65529, 983041, 65537, 65529, 983041, 65538, 65529, 983041, 65539, 65529, 983041, 65540, 65529, 983041, 65540, 65530, 196609, 65540, 65531, 196609, 65540, 65532, 196609, 65540, 65533, 196609, 65540, 65534, 196609, 65540, 65535, 196609, 65540, 0, 196609, 65540, 1, 196609, 65540, 2, 196609, 65540, 3, 196609, 65540, 4, 196609, 65540, 5, 196609, 131069, 65535, 196609, 131070, 65535, 196609, 131071, 65535, 196609, 65537, 65535, 196609, 65538, 65535, 196609, 65539, 65535, 196609, 196604, 65535, 720897, 196605, 65535, 196609, 196606, 65535, 196609, 196607, 65535, 196609, 131072, 65535, 196609, 131073, 65535, 196609, 131074, 65535, 196609, 131075, 65535, 196609, 131076, 65535, 196609, 196604, 65529, 720897, 196604, 65530, 720897, 196604, 65531, 720897, 196604, 65532, 720897, 196604, 65533, 720897, 196604, 65534, 720897, 196604, 0, 720897, 196604, 1, 720897, 196604, 2, 720897, 196604, 3, 720897, 196604, 4, 720897, 196604, 5, 720897, 196604, 6, 458753, 196605, 65529, 983041, 196605, 6, 458753, 196606, 65529, 983041, 196606, 6, 458753, 196607, 65529, 983041, 196607, 6, 458753, 131072, 65529, 983041, 131072, 6, 458753, 131073, 65529, 983041, 131073, 6, 458753, 131074, 65529, 983041, 131074, 6, 458753, 131075, 65529, 983041, 131075, 6, 458753, 131076, 65529, 983041, 131076, 65530, 196609, 131076, 65531, 196609, 131076, 65532, 196609, 131076, 65533, 196609, 131076, 65534, 196609, 131076, 0, 196609, 131076, 1, 196609, 131076, 2, 196609, 131076, 3, 196609, 131076, 4, 196609, 131076, 5, 196609, 131076, 6, 458753, 262140, 65529, 1179649, 262140, 65530, 1179649, 262140, 65531, 1179649, 262140, 65532, 1179649, 262140, 65533, 1179649, 262140, 65534, 1179649, 262140, 65535, 1179649, 262140, 0, 1179649, 262140, 1, 1179649, 262140, 2, 1179649, 262140, 3, 1179649, 262140, 4, 1179649, 262140, 5, 1179649, 262140, 6, 1179649, 262141, 65529, 1179649, 262141, 65530, 1179649, 262141, 65531, 1179649, 262141, 65532, 1179649, 262141, 65533, 1179649, 262141, 65534, 1179649, 262141, 65535, 1179649, 262141, 0, 1179649, 262141, 1, 1179649, 262141, 2, 1179649, 262141, 3, 1179649, 262141, 4, 1179649, 262141, 5, 1179649, 262141, 6, 1179649, 262142, 65529, 1179649, 262142, 65530, 1179649, 262142, 65531, 1179649, 262142, 65532, 1179649, 262142, 65533, 1179649, 262142, 65534, 1179649, 262142, 65535, 1179649, 262142, 0, 1179649, 262142, 1, 1179649, 262142, 2, 1179649, 262142, 3, 1179649, 262142, 4, 1179649, 262142, 5, 1179649, 262142, 6, 1179649, 262143, 65529, 1179649, 262143, 65530, 1179649, 262143, 65531, 1179649, 262143, 65532, 1179649, 262143, 65533, 1179649, 262143, 65534, 1179649, 262143, 65535, 1179649, 262143, 0, 1179649, 262143, 1, 1179649, 262143, 2, 1179649, 262143, 3, 1179649, 262143, 4, 1179649, 262143, 5, 1179649, 262143, 6, 1179649, 196608, 65529, 1179649, 196608, 65530, 1179649, 196608, 65531, 1179649, 196608, 65532, 1179649, 196608, 65533, 1179649, 196608, 65534, 1179649, 196608, 65535, 1179649, 196608, 0, 1179649, 196608, 1, 1179649, 196608, 2, 1179649, 196608, 3, 1179649, 196608, 4, 1179649, 196608, 5, 1179649, 196608, 6, 1179649, 196609, 65529, 1179649, 196609, 65530, 1179649, 196609, 65531, 1179649, 196609, 65532, 1179649, 196609, 65533, 1179649, 196609, 65534, 1179649, 196609, 65535, 1179649, 196609, 0, 1179649, 196609, 1, 1179649, 196609, 2, 1179649, 196609, 3, 1179649, 196609, 4, 1179649, 196609, 5, 1179649, 196609, 6, 1179649, 196610, 65529, 1179649, 196610, 65530, 1179649, 196610, 65531, 1179649, 196610, 65532, 1179649, 196610, 65533, 1179649, 196610, 65534, 1179649, 196610, 65535, 1179649, 196610, 0, 1179649, 196610, 1, 1179649, 196610, 2, 1179649, 196610, 3, 1179649, 196610, 4, 1179649, 196610, 5, 1179649, 196610, 6, 1179649, 196611, 65529, 1179649, 196611, 65530, 1179649, 196611, 65531, 1179649, 196611, 65532, 1179649, 196611, 65533, 1179649, 196611, 65534, 1179649, 196611, 65535, 1179649, 196611, 0, 1179649, 196611, 1, 1179649, 196611, 2, 1179649, 196611, 3, 1179649, 196611, 4, 1179649, 196611, 5, 1179649, 196611, 6, 1179649, 196612, 65529, 1179649, 196612, 65530, 1179649, 196612, 65531, 1179649, 196612, 65532, 1179649, 196612, 65533, 1179649, 196612, 65534, 1179649, 196612, 65535, 1179649, 196612, 0, 1179649, 196612, 1, 1179649, 196612, 2, 1179649, 196612, 3, 1179649, 196612, 4, 1179649, 196612, 5, 1179649, 196612, 6, 1179649)
}
metadata/_editor_floor_ = Vector3(0, 3, 0)

[node name="Door" type="AnimatableBody3D" parent="GridMap" unique_id=1588603263]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 1, 3, -1)
script = ExtResource("2_qna4i")
move_direction = Vector3(0, 0, -1)
lip = 2.0

[node name="C1a0001" type="MeshInstance3D" parent="GridMap/Door" unique_id=393157243]
transform = Transform3D(71.4, 0, 0, 0, 71.4, 0, 0, 0, 125, 0, 0, 0)
mesh = ExtResource("3_qna4i")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="GridMap/Door" unique_id=1049821439]
transform = Transform3D(100, 0, 0, 0, 100, 0, 0, 0, 100, 0, 0, 0.00049972534)
shape = SubResource("BoxShape3D_gr3wi")

[node name="Area3D" type="Area3D" parent="GridMap/Door" unique_id=1716367306]

[node name="CollisionShape3D2" type="CollisionShape3D" parent="GridMap/Door/Area3D" unique_id=350122181]
transform = Transform3D(100, 0, 0, 0, 100, 0, 0, 0, 100, 0, 0, 0.0005000271)
shape = SubResource("BoxShape3D_r26ln")

[node name="OmniLight3D" type="OmniLight3D" parent="GridMap" unique_id=936054419]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.9926934, 4.999866, 5.4829307)
light_energy = 2.795
light_size = 1.0
omni_range = 10.0

[node name="OmniLight3D2" type="OmniLight3D" parent="GridMap" unique_id=284338664]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.9926934, 4.999866, -7.0934606)
light_energy = 2.795
light_size = 1.0
omni_range = 10.0

[node name="DamageArea3D" type="Area3D" parent="GridMap" unique_id=1344035598]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 3, 3)
script = ExtResource("4_qna4i")
damage = 100.0
is_percent = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="GridMap/DamageArea3D" unique_id=1657249509]
shape = SubResource("BoxShape3D_ba6ci")

[node name="Spawn" type="Node3D" parent="." unique_id=1509810602]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.993747, 0, 6.584504)
script = ExtResource("5_qna4i")

[node name="Area3D" type="Area3D" parent="." unique_id=249695176]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.219816, -0.9912679, -10.405805)
script = ExtResource("6_qna4i")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D" unique_id=1921896478]
shape = SubResource("BoxShape3D_js533")

[node name="Sprite3D" type="Sprite3D" parent="Area3D" unique_id=1545129082]
pixel_size = 0.02
billboard = 1
alpha_scissor_threshold = 0.484
texture = ExtResource("4_n0ibb")

[node name="Tree" type="Area3D" parent="." unique_id=2082184372]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.743, -2, 4.181)
script = ExtResource("8_uialn")
height = 4.0

[node name="Sprite3D" type="Sprite3D" parent="." unique_id=1585372960]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4.593423)
billboard = 1
alpha_cut = 1
texture = ExtResource("9_bvjvx")
hframes = 5
vframes = 5
script = ExtResource("10_2ha8l")

[connection signal="body_shape_entered" from="GridMap/Door/Area3D" to="GridMap/Door" method="_on_touch"]
[connection signal="body_shape_entered" from="Area3D" to="Area3D" method="MapChange" unbinds=2 binds= ["hl1_c1a0.tscn"]]
